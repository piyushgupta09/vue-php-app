RewriteEngine On

# Route API requests to the server directory
RewriteRule ^api/?$ ../server/api.php [L]

# Serve static files from the public directory
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^(.*)$ $1 [L]

# Deny direct access to the config and database directories
<Directory "../server/config">
    Order allow,deny
    Deny from all
</Directory>
<Directory "../server/database">
    Order allow,deny
    Deny from all
</Directory>